# Semantic Search Demo

This web app will read in the embeddings generated by the `GenerateSimilarityEmbeddings` project and allow you to search over the blog post data using the [e5-base-v2](https://huggingface.co/intfloat/e5-base-v2) semantic similarity model.

It uses a naive maximum distance threshold to try to discard results that are a poor match to the query, though this is not a reliable mechanism (it appears to do the job much of the time, but a reranker stage would be superior).

To try this out, run the `GenerateSimilarityEmbeddings` project first, as it will write cache files to its output folder - then you may run this project, as it will copy those cache files in order to provide the search (if you run this project without those files being available, you will receive see the message `Unknown Initialisation Error` in the web page).

## In action

You can also see a version of this code at [search.productiverage.com](https://search.productiverage.com), though that does use a reranker stage instead of a similarity score threshold (I'll update the code here one day to match it!)

Although I created this blog repo as an MVC application many years ago, I have a process that translates it into the static version hosted on GitHub Pages today ([www.productiverage.com](https://www.productiverage.com)). The lexical search is performed client side, with the necessary indexed data part of the static GitHub Pages content (back in 2013, [I got all excited about the launch of neocities](https://www.productiverage.com/the-neocities-challenge-aka-the-full-text-indexer-goes-clientside) and tested the concept of a client-side search, and I use that now for my live site). In March 2025, I extended the JavaScript to also call [search.productiverage.com](https://search.productiverage.com) so that the search results contain both semantic and lexical results.

An example of a query that I see in Google Search Console that results in people be shown my blog is this:

> how to redirect to another controller action in mvc

The lexical search fails to find any matches (which makes me fear that there is an error with my stemming logic, since replacing the word "redirect" with "redirecting" results in a lexical match) but the *semantic* search does return the result, and so now performing that query on my own blog works - yay, hybrid search! [Try it here](https://www.productiverage.com/Search?term=how+to+redirect+to+another+controller+action+in+mvc).